<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book a Table</title>
    <link rel="stylesheet" type="text/css" href="../static/css/style.css">
    <!-- Flatpickr CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
</head>
<body>
    <header class="header">
        <div class="logo">
            <img src="../assets/logo/logo-png.png" alt="Logo">
        </div>
        <nav>
            <ul>
                <li><a href="../templates/index.html">Home</a></li>
                <li><a href="../templates/menu.html">Menu</a></li>
                <li><a href="../templates/opentime.html">Opening Times</a></li>
                <li><a href="../templates/about.html">About</a></li>
                <li><a href="../templates/contact.html">Contact</a></li>
            </ul>
        </nav>
    </header>
    <main class="main-content">
        <h1>Book a Table</h1>
        {% if messages %}
            <ul class="messages">
                {% for message in messages %}
                    <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
                {% endfor %}
            </ul>
        {% endif %}
        <form id="bookingForm" method="post">
            {% csrf_token %}
            <div class="textbox">
                <label for="date">Date</label>
                <input type="text" id="date" name="date" required>
            </div>
            <div class="textbox">
                <label for="time">Time</label>
                <input type="text" id="time" name="time" required>
            </div>
            <div class="textbox">
                <label for="people">Number of People</label>
                <input type="number" id="people" name="people" min="1" max="20" required>
            </div>
            <input type="submit" class="btn" value="Book Now">
        </form>
    </main>
    <footer class="footer">
        <p>&copy; 2024 Restaurant. All rights reserved.</p>
    </footer>
    <!-- Flatpickr JS -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize Flatpickr for date picker
            flatpickr("#date", {
                dateFormat: "Y-m-d",
                minDate: "today",
                onChange: function(selectedDates, dateStr, instance) {
                    const date = new Date(dateStr);
                    const day = date.getDay();
                    const timeInput = document.getElementById('time');
                    if (day === 0) { // Sunday
                        timeInput._flatpickr.set('minTime', '12:00');
                        timeInput._flatpickr.set('maxTime', '20:00');
                    } else {
                        timeInput._flatpickr.set('minTime', '08:00');
                        timeInput._flatpickr.set('maxTime', '21:00');
                    }
                }
            });

            // Initialize Flatpickr for time picker
            flatpickr("#time", {
                enableTime: true,
                noCalendar: true,
                dateFormat: "H:i",
                time_24hr: true,
                minTime: "08:00",
                maxTime: "21:00"
            });
        });
    </script>
</body>
</html>
